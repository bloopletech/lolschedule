!!!
%html
  %head
    %meta{charset: 'utf-8'}
    %title= title

    %meta{name: 'HandheldFriendly', content: 'true'}
    %meta{name: 'viewport', content: 'width=device-width, height=device-height, user-scalable=no'}

    :css
      #{include('css/icons.css')}
      #{include('css/filters.css')}
      #{include('css/style.css')}

    :javascript
      #{include('js/times.js')}
      #{include('js/js.js')}
      #{include('js/filters.js')}
      #{include('js/links.js')}
      #{include('js/reveals.js')}
  %body
    #page-wrapper
      != partial('filters', { leagues: leagues })

      != partial('links', { year: year })

      %h1= title

      - leagues.reject { |league| league.streams.empty? }.each do |league|
        - league.streams.each do |stream|
          != partial('league_stream', { league: league, stream: stream })
      - matches.sort_by { |match| match.rtime }.each do |match|
        != partial('match', { match: match })
      #no-results.match.filter-no-match
        %div There are no matches that fit all the filters you have applied.

      != partial('links', { year: year })

      #footer<
        Page generated&nbsp;
        %span.footer-time{data: { value: generated }}
        , data file generated&nbsp;
        %span.footer-time{data: { value: data_generated }}
        \.